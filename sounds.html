<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fanfare</title>
</head>
<body>
    <button id="start"><img src="./play_arrow_black_24dp.svg" alt="">&nbsp;start</button>
    <button id="stop"><img src="./replay_black_24dp.svg" alt="">&nbsp;replay</button>
    <button id="pause"><img src="./pause_black_24dp.svg" alt="">&nbsp;pause</button>
    <input type="range" id="volume" name="volume" min="0" max="10" step="2">
    <label for="volume"><img src="./volume_off_black_24dp.svg" alt="">&nbsp;Volume&nbsp;<img src="./volume_up_black_24dp.svg" alt=""></label>
    <script>
        const music = new Audio();
        function init(){
            music.preload = "auto"
            music.src = './Fanfare.mp3'
            music.load()
            
            music.addEventListener('ended',function(){
                music.currentTime = 0
                music.play()
            },false)
        }

        const startButton = document.querySelector("#start")
        startButton.addEventListener('click',function(){
            music.loop = true
            music.play()
        })

        stopButton = document.querySelector('#stop')
        stopButton.addEventListener('click',function(){
            music.pause();
            music.currentTime = 0;
        })

        pauseButton = document.querySelector('#pause')
        pauseButton.addEventListener('click',function(){
            music.pause();
        })

        volume = document.querySelector("#volume")
        volume.addEventListener('change',function(){
            music.volume = this.value * 0.1
        })


        init()
    </script>
</body>
</html>